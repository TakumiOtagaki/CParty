# Story Audit

## Story
- id: 003
- title: Implement CLI stdout parser for MFE structure and energy
- depends_on: [002]
- attempt: 1
- date: 2026-02-13

## Commit
- branch: feature/scfg-refactor-fixed-energy
- commit: 0517205
- files_changed:
  - test/tools/parse_cparty_stdout.sh
  - test/tools/parse_cparty_stdout_test.sh
  - documents/ralph-loop/prd.json
  - documents/ralph-loop/audit/003.md
  - documents/ralph-loop/progress.txt

## Commands
```bash
test/tools/parse_cparty_stdout_test.sh
cmake -S . -B build_story003_fresh && cmake --build build_story003_fresh
CPARTY_BIN=build_story003_fresh/CParty test/tools/parse_cparty_stdout_test.sh
ctest --test-dir build_story003_fresh --output-on-failure
```

## Metrics
- refactor_compared: n/a (not a refactor-only story)
- refactor_strict_mismatched: n/a (not a refactor-only story)
- alignment_compared: n/a (not an alignment story)
- alignment_mismatched: n/a (not an alignment story)
- skipped: n/a (not an alignment story)
- finite_rate: n/a (not an alignment story)

## Result
- passes: true
- rationale: Implemented deterministic CParty stdout parser for sequence/restricted/MFE extraction, added malformed-stdout non-zero failure checks, and passed story test plus full regression on a fresh build directory.

## Blockers
- `rm -rf build` is blocked by environment policy; used fresh directory `build_story003_fresh` to satisfy no-stale-build gate.
